<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us">
<head xmlns:xs="http://www.w3.org/2001/XMLSchema"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="opacabletest">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="GUID-E698CA72-971A-44A9-A815-557F74EEDD42">
<meta name="DC.Language" content="en-US">
<link rel="stylesheet" type="text/css" href="commonltr.css">
<link rel="stylesheet" type="text/css" href="intelltr.css">
<title>opacabletest</title>
</head>
<body class="man8" id="GUID-E698CA72-971A-44A9-A815-557F74EEDD42"><a name="GUID-E698CA72-971A-44A9-A815-557F74EEDD42"><!-- --></a>
<div id="custom-header" style="text-align:right">
	<img src="intel_logo.png">
</div>
 
  <h1 class="title topictitle1">opacabletest</h1>
 
  <div class="body refbody"> 
    <div class="section" id="GUID-E698CA72-971A-44A9-A815-557F74EEDD42__GUID-9456F577-F101-4BC9-8CF5-44E5043E94A3"><a name="GUID-E698CA72-971A-44A9-A815-557F74EEDD42__GUID-9456F577-F101-4BC9-8CF5-44E5043E94A3"><!-- --></a> 
      <p class="p"><strong class="ph b">(Switch)</strong> Initiates or stops Cable Bit Error Rate stress tests for 
        <span class="ph">Intel<sup>Â®</sup> Omni-Path Host
          Fabric Interface</span> (<span class="ph">HFI</span>)-to-switch links and/or ISLs. 
      </p>
 
    </div>
 
    <div class="section refsyn" id="GUID-E698CA72-971A-44A9-A815-557F74EEDD42__GUID-32F04DAF-B7FF-4F2A-881B-7C9418BBCFEB"><a name="GUID-E698CA72-971A-44A9-A815-557F74EEDD42__GUID-32F04DAF-B7FF-4F2A-881B-7C9418BBCFEB"><!-- --></a><h2 class="sectiontitle">Syntax</h2> 
      <pre class="pre codeblock">opacabletest [-C|-A] [-c <var class="keyword varname">file</var>] [-f <var class="keyword varname">hostfile</var>] 
[-h <var class="keyword varname">'hosts'</var>] [-n <var class="keyword varname">numprocs</var>] [-t&nbsp;<var class="keyword varname">portsfile</var>] 
[-p <var class="keyword varname">ports</var>] [start|start_fi|start_isl|stop|stop_fi|stop_isl]</pre>
 
      <p class="p">or 
      </p>
 
      <pre class="pre codeblock">opacabletest --help</pre>
 
    </div>
 
    <div class="section" id="GUID-E698CA72-971A-44A9-A815-557F74EEDD42__GUID-7F84E2EF-5874-4EAD-84C7-9B3AF3B4863D"><a name="GUID-E698CA72-971A-44A9-A815-557F74EEDD42__GUID-7F84E2EF-5874-4EAD-84C7-9B3AF3B4863D"><!-- --></a><h2 class="sectiontitle">Options</h2> 
      <a name="GUID-E698CA72-971A-44A9-A815-557F74EEDD42__GUID-F4727B1F-91E5-4328-84CA-521CB072BAFE"><!-- --></a><dl class="dl parml" id="GUID-E698CA72-971A-44A9-A815-557F74EEDD42__GUID-F4727B1F-91E5-4328-84CA-521CB072BAFE"> 
         
          <dt class="dt pt dlterm"><samp class="ph codeph">--help</samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Produces full help text. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-C</samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Clears error counters. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-A</samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Forces clear of hardware error counters. Implies 
              <samp class="ph codeph">-C</samp>. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-c 
              <var class="keyword varname">file</var></samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Error thresholds configuration file. Default is 
              <span class="ph filepath">/etc/sysconfig/opa/opamon.si.conf</span> file. Only used if 
              <samp class="ph codeph">-C</samp> or 
              <samp class="ph codeph">-A</samp> specified. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-f 
              <var class="keyword varname">hostfile</var></samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">File with hosts to include in 
              <span class="ph">HFI</span>-to-SW test. Default is 
              <span class="ph filepath">/etc/sysconfig/opa/hosts</span> file. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-h 
              <var class="keyword varname">hosts</var></samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">List of hosts to include in 
              <span class="ph">HFI</span>-SW test. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-n 
              <var class="keyword varname">numprocs</var></samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Number of processes per host for 
              <span class="ph">HFI</span>-SW test. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-t 
              <var class="keyword varname">portsfile</var></samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">File with list of local 
              <span class="ph">HFI</span> ports used to access fabrics when clearing counters. Default is 
              <span class="ph filepath">/etc/sysconfig/opa/ports</span> file. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-p 
              <var class="keyword varname">ports</var></samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">List of local 
              <span class="ph">HFI</span> ports used to access fabrics for counter clear. Default is first active port. The first 
              <span class="ph">HFI</span> in the system is 1. The first port on an 
              <span class="ph">HFI</span> is 1. 
            </p>
 
            <p class="p">Uses the format 
              <samp class="ph codeph">hfi:port</samp>, for example: 
            </p>
 
            <a name="GUID-E698CA72-971A-44A9-A815-557F74EEDD42__GUID-A8958A2D-DFFF-4F65-A112-54B232CFEFF9"><!-- --></a><dl class="dl parml" id="GUID-E698CA72-971A-44A9-A815-557F74EEDD42__GUID-A8958A2D-DFFF-4F65-A112-54B232CFEFF9"> 
               
                <dt class="dt pt dlterm"><samp class="ph codeph">0:0</samp> 
                </dt>
 
                <dd class="dd pd"> 
                  <p class="p">First active port in system. 
                  </p>
 
                </dd>
 
               
               
                <dt class="dt pt dlterm"><samp class="ph codeph">0:y</samp> 
                </dt>
 
                <dd class="dd pd"> 
                  <p class="p">Port 
                    <samp class="ph codeph"><var class="keyword varname">y</var></samp> within system. 
                  </p>
 
                </dd>
 
               
               
                <dt class="dt pt dlterm"><samp class="ph codeph">x:0</samp> 
                </dt>
 
                <dd class="dd pd"> 
                  <p class="p">First active port on HFI 
                    <samp class="ph codeph"><var class="keyword varname">x</var></samp>. 
                  </p>
 
                </dd>
 
               
               
                <dt class="dt pt dlterm"><samp class="ph codeph">x:y</samp> 
                </dt>
 
                <dd class="dd pd"> 
                  <p class="p">HFI 
                    <samp class="ph codeph"><var class="keyword varname">x</var></samp>, port 
                    <samp class="ph codeph"><var class="keyword varname">y</var></samp>. 
                  </p>
 
                </dd>
 
               
            </dl>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">start</samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Starts the 
              <span class="ph">HFI</span>-SW and ISL tests. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">start_fi</samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Starts the 
              <span class="ph">HFI</span>-SW test. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">start_isl</samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Starts the ISL test. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">stop</samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Stops the 
              <span class="ph">HFI</span>-SW and ISL tests. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">stop_fi</samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Stops the 
              <span class="ph">HFI</span>-SW test. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">stop_isl</samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Stops the ISL test. 
            </p>
 
          </dd>
 
         
      </dl>
 
      <p class="p">The 
        <span class="ph">HFI</span>-SW cable test requires that the 
        <span class="keyword parmname">FF_MPI_APPS_DIR</span> is set, and it contains a pre-built copy of the 
        <span class="ph filepath">mpi_apps</span> for an appropriate message passing interface (MPI). 
      </p>
 
      <p class="p">The ISL cable test started by this tool assumes that the master Host Subnet Manager (HSM) is running on this host. If using the Embedded Subnet Manager (ESM), or if a different host is the master HSM, the ISL cable test must be controlled by the switch CLI, or by 
        <span class="ph">Intel<sup>Â®</sup> Omni-Path
          Fabric Suite FastFabric</span> on the master HSM respectively. 
      </p>
 
    </div>
 
    <div class="section" id="GUID-E698CA72-971A-44A9-A815-557F74EEDD42__GUID-B910320C-3B69-45A6-BFAB-4FEE16A7C880"><a name="GUID-E698CA72-971A-44A9-A815-557F74EEDD42__GUID-B910320C-3B69-45A6-BFAB-4FEE16A7C880"><!-- --></a><h2 class="sectiontitle">Examples </h2> 
      <pre class="pre codeblock">opacabletest -A start
opacabletest -f good -A start
opacabletest -h 'arwen elrond' start_fi
HOSTS='arwen elrond' opacabletest stop
opacabletest -A</pre>
 
    </div>
 
    <div class="section" id="GUID-E698CA72-971A-44A9-A815-557F74EEDD42__GUID-F6744A31-DF66-44C7-94B2-ED5020B69EB0"><a name="GUID-E698CA72-971A-44A9-A815-557F74EEDD42__GUID-F6744A31-DF66-44C7-94B2-ED5020B69EB0"><!-- --></a><h2 class="sectiontitle">Environment Variables</h2> 
      <p class="p">The following environment variables are also used by this command: 
      </p>
 
      <a name="GUID-E698CA72-971A-44A9-A815-557F74EEDD42__GUID-C1C673A6-2B54-4718-8667-C2221A5521F5"><!-- --></a><dl class="dl parml" id="GUID-E698CA72-971A-44A9-A815-557F74EEDD42__GUID-C1C673A6-2B54-4718-8667-C2221A5521F5"> 
         
          <dt class="dt pt dlterm"><span class="keyword parmname">HOSTS</span> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">List of hosts, used if 
              <samp class="ph codeph">-h</samp> option not supplied. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><span class="keyword parmname">HOSTS_FILE</span> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">File containing list of hosts, used in absence of 
              <samp class="ph codeph">-f</samp> and 
              <samp class="ph codeph">-h</samp>. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><span class="keyword parmname">PORTS</span> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">List of ports, used in absence of 
              <samp class="ph codeph">-t</samp> and 
              <samp class="ph codeph">-p</samp>. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><span class="keyword parmname">PORTS_FILE</span> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">File containing list of ports, used in absence of 
              <samp class="ph codeph">-t</samp> and 
              <samp class="ph codeph">-p</samp>. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><span class="keyword parmname">FF_MAX_PARALLEL</span> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Maximum concurrent operations. 
            </p>
 
          </dd>
 
         
      </dl>
 
    </div>
 
  </div>
 
<div xmlns:xs="http://www.w3.org/2001/XMLSchema" id="custom-footer"><hr><p class="copyright-notice">*Other names and brands may be claimed as the property of others.</p><p class="copyright-notice">Revised: January 2016</p><p class="copyright-notice">Copyright Â© 2016 Intel Corporation. All rights reserved.</p></div>
</body>
</html>