<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us">
<head xmlns:xs="http://www.w3.org/2001/XMLSchema"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="opaallanalysis">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177">
<meta name="DC.Language" content="en-US">
<link rel="stylesheet" type="text/css" href="commonltr.css">
<link rel="stylesheet" type="text/css" href="intelltr.css">
<title>opaallanalysis</title>
</head>
<body class="man8" id="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177"><a name="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177"><!-- --></a>
<div id="custom-header" style="text-align:right">
	<img src="intel_logo.png">
</div>
 
  <h1 class="title topictitle1">opaallanalysis</h1>
 
  <div class="body refbody"> 
    <div class="section" id="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177__GUID-55F35BFC-D6E8-4C4A-A781-1D1BAB4FA44F"><a name="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177__GUID-55F35BFC-D6E8-4C4A-A781-1D1BAB4FA44F"><!-- --></a> 
      <p class="p"><strong class="ph b">(All)</strong> 
        <samp class="ph codeph">opaallanalysis</samp> command performs the set of analysis
        specified in 
        <samp class="ph codeph">FF_ALL_ANALYSIS</samp> and can be specified for fabric,
        chassis, esm, or hostsm. 
      </p>
 
      </div>
 
    <div class="section refsyn" id="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177__GUID-C28B517A-BDEF-48F9-8B8A-15FBB1029265"><a name="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177__GUID-C28B517A-BDEF-48F9-8B8A-15FBB1029265"><!-- --></a><h2 class="sectiontitle">Syntax</h2> 
      <pre class="pre codeblock">opaallanalysis [-b|-e] [-s] [-d <var class="keyword varname">dir</var>] [-c <var class="keyword varname">file</var>]
[-t <var class="keyword varname">portsfile</var>] [-p <var class="keyword varname">ports</var>] 
[-F&nbsp;<var class="keyword varname">chassisfile</var>] [-H '<var class="keyword varname">chassis</var>'] 
[-G <var class="keyword varname">esmchassisfile</var>] [-E <var class="keyword varname">esmchassis</var>]
[-T <var class="keyword varname">topology_input</var>]</pre>
 
    </div>
 
    <div class="section" id="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177__GUID-8BB4AA83-9C27-45AA-8DCD-9F3B15425FB5"><a name="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177__GUID-8BB4AA83-9C27-45AA-8DCD-9F3B15425FB5"><!-- --></a><h2 class="sectiontitle">Options</h2> 
      <a name="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177__GUID-CFE11228-FB59-47C7-9D24-9F3859EFD4F4"><!-- --></a><dl class="dl parml" id="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177__GUID-CFE11228-FB59-47C7-9D24-9F3859EFD4F4"> 
         
          <dt class="dt pt dlterm"><samp class="ph codeph">--help</samp> 
          </dt>
 
          <dd class="dd pd">Produces full help text. 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-b</samp> 
          </dt>
 
          <dd class="dd pd">Baseline mode. Default is compare/check mode. 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-e</samp> 
          </dt>
 
          <dd class="dd pd">Evaluates health only. Default is compare/check mode. 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-s</samp> 
          </dt>
 
          <dd class="dd pd">Saves history of failures (errors/differences). 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph"> -d 
              <var class="keyword varname">dir</var></samp> 
          </dt>
 
          <dd class="dd pd">Top-level directory for saving baseline and history of failed
            checks. Default = 
            <span class="ph filepath">/var/opt/opa/analysis</span> 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph"> -c 
              <var class="keyword varname">file</var></samp> 
          </dt>
 
          <dd class="dd pd">Error thresholds configuration file. Default = 
            <span class="ph filepath">/etc/sysconfig/opa/opamon.conf</span> 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-t 
              <var class="keyword varname">portsfile</var></samp> 
          </dt>
 
          <dd class="dd pd"> File with list of local HFI ports used to access fabric(s) for
            analysis. Default = 
            <span class="ph filepath">/etc/sysconfig/opa/ports</span> 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph"> -p 
              <var class="keyword varname">ports</var></samp> 
          </dt>
 
          <dd class="dd pd"> List of local HFI ports used to access fabric(s) for analysis.
            Default is the first active port. Specified as 
            <samp class="ph codeph">HFI:port</samp> as follows: 
            <a name="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177__GUID-9AA6F565-33A5-411D-9556-DB914CEEA045"><!-- --></a><dl class="dl parml" id="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177__GUID-9AA6F565-33A5-411D-9556-DB914CEEA045"> 
               
                <dt class="dt pt dlterm"><samp class="ph codeph">0:0</samp> 
                </dt>
 
                <dd class="dd pd">First active port in system. 
                </dd>
 
               
               
                <dt class="dt pt dlterm"><samp class="ph codeph">0:<var class="keyword varname">y</var></samp> 
                </dt>
 
                <dd class="dd pd">Port 
                  <samp class="ph codeph"><var class="keyword varname">y</var></samp> within system. 
                </dd>
 
               
               
                <dt class="dt pt dlterm"><samp class="ph codeph"><var class="keyword varname">x</var>:0</samp> 
                </dt>
 
                <dd class="dd pd"> First active port on HFI 
                  <samp class="ph codeph"><var class="keyword varname">x</var></samp>. 
                </dd>
 
               
               
                <dt class="dt pt dlterm"><samp class="ph codeph"><var class="keyword varname">x</var>:<var class="keyword varname">y</var></samp> 
                </dt>
 
                <dd class="dd pd">HFI 
                  <samp class="ph codeph"><var class="keyword varname">x</var></samp>, port 
                  <samp class="ph codeph"><var class="keyword varname">y</var></samp>. 
                </dd>
 
               
            </dl>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-F&nbsp;<var class="keyword varname">chassisfile</var></samp> 
          </dt>
 
          <dd class="dd pd">File with a chassis in a cluster. Default = 
            <span class="ph filepath">/etc/sysconfig/opa/chassis</span> 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-H '<var class="keyword varname">chassis</var>'</samp> 
          </dt>
 
          <dd class="dd pd">List of chassis on which to execute the command. 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-G 
              <var class="keyword varname">esmchassisfile</var></samp> 
          </dt>
 
          <dd class="dd pd">File with embedded SM chassis in the cluster. Default = 
            <span class="ph filepath">/etc/sysconfig/opa/esm_chassis</span> 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-E 
              <var class="keyword varname">esmchassis</var></samp> 
          </dt>
 
          <dd class="dd pd">List of embedded SM chassis to analyze. 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-T 
              <var class="keyword varname">topology_input</var></samp> 
          </dt>
 
          <dd class="dd pd"> Name of topology input file to use. Any 
            <samp class="ph codeph">%P</samp> markers in this filename are replaced with the 
            <samp class="ph codeph">HFI:port</samp> being operated on, such as 
            <samp class="ph codeph">0:0</samp> or 
            <samp class="ph codeph">1:2</samp>. Default = 
            <span class="ph filepath">/etc/sysconfig/opa/topology.%P.xml</span>. If 
            <samp class="ph codeph">-T NONE</samp> is specified, no topology input file is
            used. See 
            <a class="xref" href="GUID-03910E5A-245C-4F29-A84D-5D9872BBE30C.html#GUID-03910E5A-245C-4F29-A84D-5D9872BBE30C">opareport</a>
            for more information. 
          </dd>
 
         
      </dl>
 
    </div>
 
    <div class="section" id="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177__SECTION_B98F70FE471F4369B29E5C18D5774BC8"><a name="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177__SECTION_B98F70FE471F4369B29E5C18D5774BC8"><!-- --></a><h2 class="sectiontitle">Example </h2> 
      <pre class="pre codeblock">opaallanalysis
opaallanalysis -p '1:1 2:1'</pre>
 
    </div>
 
    <div class="section" id="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177__GUID-8EAA159C-C5F0-4ED1-9182-D755CA38C886"><a name="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177__GUID-8EAA159C-C5F0-4ED1-9182-D755CA38C886"><!-- --></a><h2 class="sectiontitle">Environment Variables</h2> 
      <p class="p">The following environment variables are also used by this command: 
      </p>
 
      <a name="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177__GUID-6CF6BEEF-DAB6-421E-B73A-097EE81435A5"><!-- --></a><dl class="dl parml" id="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177__GUID-6CF6BEEF-DAB6-421E-B73A-097EE81435A5"> 
         
          <dt class="dt pt dlterm"><span class="keyword parmname">PORTS</span> 
          </dt>
 
          <dd class="dd pd"> List of ports, used in absence of 
            <samp class="ph codeph">-t</samp> and 
            <samp class="ph codeph">-p</samp>. 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><span class="keyword parmname">PORTS_FILE</span> 
          </dt>
 
          <dd class="dd pd">File containing list of ports, used in absence of 
            <samp class="ph codeph">-t</samp> and 
            <samp class="ph codeph">-p</samp>. 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><span class="keyword parmname">FF_TOPOLOGY_FILE</span> 
          </dt>
 
          <dd class="dd pd">File containing 
            <samp class="ph codeph">topology_input</samp> (may have 
            <samp class="ph codeph">%P</samp> marker in filename), used in absence of 
            <samp class="ph codeph">-T</samp>. 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><span class="keyword parmname">CHASSIS 
            </span> 
          </dt>
 
          <dd class="dd pd"> List of chassis, used if 
            <samp class="ph codeph">-F</samp> and 
            <samp class="ph codeph">-H</samp> options are not supplied. 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><span class="keyword parmname">CHASSIS_FILE</span> 
          </dt>
 
          <dd class="dd pd">File containing list of chassis, used if 
            <samp class="ph codeph">-F</samp> and 
            <samp class="ph codeph">-H</samp> options are not supplied. 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><span class="keyword parmname">ESM_CHASSIS 
            </span> 
          </dt>
 
          <dd class="dd pd"> List of SM chassis, used if 
            <samp class="ph codeph">-G</samp> and 
            <samp class="ph codeph">-E</samp> options are not supplied. 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><span class="keyword parmname">ESM_CHASSIS_FILE</span> 
          </dt>
 
          <dd class="dd pd">File containing list of SM chassis, used if 
            <samp class="ph codeph">-G</samp> and 
            <samp class="ph codeph">-E</samp> options are not supplied. 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><span class="keyword parmname">FF_ANALYSIS_DIR</span> 
          </dt>
 
          <dd class="dd pd">Top level directory for baselines and failed health checks. 
          </dd>
 
         
      </dl>
 
    </div>
 
    <div class="section" id="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177__SECTION_1EC529E22FBB4A2496B555482449D867"><a name="GUID-7233FEEC-0DAE-48A7-98F4-B5BF67473177__SECTION_1EC529E22FBB4A2496B555482449D867"><!-- --></a><h2 class="sectiontitle">Details</h2>
      
      <p class="p">The 
        <samp class="ph codeph">opaallanalysis</samp> command performs the set of analysis
        specified in 
        <span class="keyword parmname">FF_ALL_ANALYSIS</span>, which must be a space-separated
        list. This can be provided by the environment or using 
        <span class="ph filepath">/etc/sysconfig/opa/opafastfabric.conf</span>. The
        analysis set includes the options: fabric, chassis, esm, or hostsm. 
      </p>
 
      <p class="p">Note that the 
        <samp class="ph codeph">opaallanalysis</samp> command has options which are a
        super-set of the options for all other analysis commands. The options are
        passed along to the respective tools as needed. For example, the 
        <samp class="ph codeph">-c</samp> file option is passed on to 
        <samp class="ph codeph">opafabricanalysis</samp> if it is specified in 
        <span class="keyword parmname">FF_ALL_ANALYSIS</span>. 
      </p>
 
      <p class="p">The output files are all the output files for the 
        <span class="keyword parmname">FF_ALL_ANALYSIS</span> selected set of analysis. See the
        previous sections for the specific output files. 
      </p>
 
    </div>
 
  </div>
 
<div xmlns:xs="http://www.w3.org/2001/XMLSchema" id="custom-footer"><hr><p class="copyright-notice">*Other names and brands may be claimed as the property of others.</p><p class="copyright-notice">Revised: January 2016</p><p class="copyright-notice">Copyright © 2016 Intel Corporation. All rights reserved.</p></div>
</body>
</html>