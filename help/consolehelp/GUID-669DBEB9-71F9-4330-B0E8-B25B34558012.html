<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us">
<head xmlns:xs="http://www.w3.org/2001/XMLSchema"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="opaesmanalysis">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="GUID-669DBEB9-71F9-4330-B0E8-B25B34558012">
<meta name="DC.Language" content="en-US">
<link rel="stylesheet" type="text/css" href="commonltr.css">
<link rel="stylesheet" type="text/css" href="intelltr.css">
<title>opaesmanalysis</title>
</head>
<body class="man8" id="GUID-669DBEB9-71F9-4330-B0E8-B25B34558012"><a name="GUID-669DBEB9-71F9-4330-B0E8-B25B34558012"><!-- --></a>
<div id="custom-header" style="text-align:right">
	<img src="intel_logo.png">
</div>
 
  <h1 class="title topictitle1">opaesmanalysis</h1>
 
  <div class="body refbody"> 
    <div class="section" id="GUID-669DBEB9-71F9-4330-B0E8-B25B34558012__GUID-55F35BFC-D6E8-4C4A-A781-1D1BAB4FA44F"><a name="GUID-669DBEB9-71F9-4330-B0E8-B25B34558012__GUID-55F35BFC-D6E8-4C4A-A781-1D1BAB4FA44F"><!-- --></a> 
      <p class="p"><strong class="ph b">(Switch)</strong> Performs analysis of the embedded Subnet Manager (SM)
        for configuration and health. The 
        <samp class="ph codeph">opaesmanalysis</samp> tool checks the 
        <span class="ph filepath">opafm.xml</span> file for the chassis. 
      </p>

      <p class="p">All files generated by 
        <samp class="ph codeph">opaesmanalysis</samp> start with 
        <span class="ph filepath">esm</span> in the file name. 
      </p>
 
      <p class="p">Intel recommends that you set up SSH keys for chassis (see 
        <a class="xref" href="GUID-FE8BD1A7-CEDC-44D9-87CD-BE1666092561.html#GUID-FE8BD1A7-CEDC-44D9-87CD-BE1666092561">opasetupssh</a>).
        If SSH keys are not set up, all chassis must be configured with the same admin
        password and the password must be kept in the 
        <span class="ph filepath">opafastfabric.conf</span> configuration file. 
      </p>
 
    </div>
 
    <div class="section refsyn" id="GUID-669DBEB9-71F9-4330-B0E8-B25B34558012__GUID-C28B517A-BDEF-48F9-8B8A-15FBB1029265"><a name="GUID-669DBEB9-71F9-4330-B0E8-B25B34558012__GUID-C28B517A-BDEF-48F9-8B8A-15FBB1029265"><!-- --></a><h2 class="sectiontitle">Syntax</h2> 
      <pre class="pre codeblock">opaesmanalysis [-b|-e] [-s] [-d <var class="keyword varname">dir</var>] 
[-G <var class="keyword varname">esmchassisfile</var>] [-E&nbsp;'<var class="keyword varname">esmchassis</var>']</pre>
 
    </div>
 
    <div class="section" id="GUID-669DBEB9-71F9-4330-B0E8-B25B34558012__GUID-8BB4AA83-9C27-45AA-8DCD-9F3B15425FB5"><a name="GUID-669DBEB9-71F9-4330-B0E8-B25B34558012__GUID-8BB4AA83-9C27-45AA-8DCD-9F3B15425FB5"><!-- --></a><h2 class="sectiontitle">Options</h2> 
      <a name="GUID-669DBEB9-71F9-4330-B0E8-B25B34558012__GUID-CFE11228-FB59-47C7-9D24-9F3859EFD4F4"><!-- --></a><dl class="dl parml" id="GUID-669DBEB9-71F9-4330-B0E8-B25B34558012__GUID-CFE11228-FB59-47C7-9D24-9F3859EFD4F4"> 
         
          <dt class="dt pt dlterm"><samp class="ph codeph">--help</samp> 
          </dt>
 
          <dd class="dd pd">Produces full help text. 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-b</samp> 
          </dt>
 
          <dd class="dd pd">Baseline mode. Default is the compare/check mode. 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-e</samp> 
          </dt>
 
          <dd class="dd pd"> Evaluates health only. Default is the compare/check mode. 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-s</samp> 
          </dt>
 
          <dd class="dd pd">Saves history of failures (errors/differences). 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-d 
              <var class="keyword varname">dir</var></samp> 
          </dt>
 
          <dd class="dd pd">Top-level directory for saving baseline and history of failed
            checks. Default = 
            <span class="ph filepath">/var/opt/opa/analysis</span> 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-G 
              <var class="keyword varname">esmchassisfile</var></samp> 
          </dt>
 
          <dd class="dd pd">File with SM chassis in the cluster. Default = 
            <span class="ph filepath">/etc/sysconfig/opa/esm_chassis</span> 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-E '<var class="keyword varname">esmchassis</var>'</samp> 
          </dt>
 
          <dd class="dd pd">List of SM chassis on which to execute the command. 
          </dd>
 
         
      </dl>
 
    </div>
 
    <div class="section" id="GUID-669DBEB9-71F9-4330-B0E8-B25B34558012__SECTION_B98F70FE471F4369B29E5C18D5774BC8"><a name="GUID-669DBEB9-71F9-4330-B0E8-B25B34558012__SECTION_B98F70FE471F4369B29E5C18D5774BC8"><!-- --></a><h2 class="sectiontitle">Example </h2> 
      <pre class="pre codeblock">opaesmanalysis</pre>
 
      </div>
 
    <div class="section" id="GUID-669DBEB9-71F9-4330-B0E8-B25B34558012__GUID-8EAA159C-C5F0-4ED1-9182-D755CA38C886"><a name="GUID-669DBEB9-71F9-4330-B0E8-B25B34558012__GUID-8EAA159C-C5F0-4ED1-9182-D755CA38C886"><!-- --></a><h2 class="sectiontitle">Environment Variables</h2> 
      <p class="p">The following environment variables are also used by this command: 
      </p>
 
      <a name="GUID-669DBEB9-71F9-4330-B0E8-B25B34558012__GUID-6CF6BEEF-DAB6-421E-B73A-097EE81435A5"><!-- --></a><dl class="dl parml" id="GUID-669DBEB9-71F9-4330-B0E8-B25B34558012__GUID-6CF6BEEF-DAB6-421E-B73A-097EE81435A5"> 
         
          <dt class="dt pt dlterm"><span class="keyword parmname">ESM_CHASSIS</span> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">List of SM chassis, used if 
              <samp class="ph codeph">-G</samp> and 
              <samp class="ph codeph">-E</samp> options are not supplied. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><span class="keyword parmname">ESM_CHASSIS_FILE</span> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">File containing list of SM chassis, used if 
              <samp class="ph codeph">-G</samp> and 
              <samp class="ph codeph">-E</samp> options are not supplied. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><span class="keyword parmname">FF_ANALYSIS_DIR</span> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Top-level directory for baselines and failed health checks. 
            </p>
 
          </dd>
 
         
      </dl>
 
      </div>
 
  </div>
 
<div xmlns:xs="http://www.w3.org/2001/XMLSchema" id="custom-footer"><hr><p class="copyright-notice">*Other names and brands may be claimed as the property of others.</p><p class="copyright-notice">Revised: January 2016</p><p class="copyright-notice">Copyright Â© 2016 Intel Corporation. All rights reserved.</p></div>
</body>
</html>