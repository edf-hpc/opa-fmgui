<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us">
<head xmlns:xs="http://www.w3.org/2001/XMLSchema"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="DC.Type" content="reference">
<meta name="DC.Title" content="opapacketcapture">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="GUID-E89E6CB2-FD46-445F-88AD-FE4B309BE62B">
<meta name="DC.Language" content="en-US">
<link rel="stylesheet" type="text/css" href="commonltr.css">
<link rel="stylesheet" type="text/css" href="intelltr.css">
<title>opapacketcapture</title>
</head>
<body class="man1" id="GUID-E89E6CB2-FD46-445F-88AD-FE4B309BE62B"><a name="GUID-E89E6CB2-FD46-445F-88AD-FE4B309BE62B"><!-- --></a>
<div id="custom-header" style="text-align:right">
	<img src="intel_logo.png">
</div>
 
  <h1 class="title topictitle1">opapacketcapture</h1>
 
  <div class="body refbody"> 
    <div class="section" id="GUID-E89E6CB2-FD46-445F-88AD-FE4B309BE62B__GUID-8E064225-8A63-4579-AB85-F92B40EBA19D"><a name="GUID-E89E6CB2-FD46-445F-88AD-FE4B309BE62B__GUID-8E064225-8A63-4579-AB85-F92B40EBA19D"><!-- --></a> 
      <p class="p"> Starts capturing packet data. 
      </p>

      <p class="p">To stop capture and trigger dump, use 
        <samp class="ph codeph">SIGINT</samp> or 
        <samp class="ph codeph">SIGUSR1</samp>. Program dumps packets to file and exits. 
      </p>
 
      <div class="note note" id="GUID-E89E6CB2-FD46-445F-88AD-FE4B309BE62B__GUID-A08D3812-FD95-4D05-9612-CD5231EEA0FD"><a name="GUID-E89E6CB2-FD46-445F-88AD-FE4B309BE62B__GUID-A08D3812-FD95-4D05-9612-CD5231EEA0FD"><!-- --></a><span class="notetitle">Note:</span>  Using 
        <samp class="ph codeph">opapacketcapture</samp> with large amounts of traffic can
        cause performance issues on the given host. Intel recommends you use 
        <samp class="ph codeph">opapacketcapture</samp> on hosts with lower packet rates and
        bandwidth. 
      </div>
 
      </div>
 
    <div class="section refsyn" id="GUID-E89E6CB2-FD46-445F-88AD-FE4B309BE62B__GUID-D390F615-BC62-4270-81CC-D4A2583731DE"><a name="GUID-E89E6CB2-FD46-445F-88AD-FE4B309BE62B__GUID-D390F615-BC62-4270-81CC-D4A2583731DE"><!-- --></a><h2 class="sectiontitle">Syntax</h2> 
      <pre class="pre codeblock">opapacketcapture [-o <var class="keyword varname">outfile</var>] [-d <var class="keyword varname">devfile</var>] [-f <var class="keyword varname">filterfile</var>] [-t <var class="keyword varname">triggerfile</var>] 
[-l <var class="keyword varname">triggerlag</var>][-a <var class="keyword varname">alarm</var>] [-p <var class="keyword varname">packets</var>] [-s <var class="keyword varname">maxblocks</var>] [-v] [-h]</pre>
 
    </div>
 
    <div class="section" id="GUID-E89E6CB2-FD46-445F-88AD-FE4B309BE62B__GUID-FB818ED8-4F32-4EB3-AEC6-A0106BED1066"><a name="GUID-E89E6CB2-FD46-445F-88AD-FE4B309BE62B__GUID-FB818ED8-4F32-4EB3-AEC6-A0106BED1066"><!-- --></a><h2 class="sectiontitle">Options</h2> 
      <a name="GUID-E89E6CB2-FD46-445F-88AD-FE4B309BE62B__GUID-D984EEEF-0E5E-48E1-B36B-485B7DED0479"><!-- --></a><dl class="dl parml" id="GUID-E89E6CB2-FD46-445F-88AD-FE4B309BE62B__GUID-D984EEEF-0E5E-48E1-B36B-485B7DED0479"> 
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-h</samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Produces full help text. 
            </p>
 
            </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-o 
              <var class="keyword varname">outfile</var></samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Output file for captured packets. Default = 
              <span class="ph filepath">packetDump.pcap</span> 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-d 
              <var class="keyword varname">devfile</var></samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p"> Device file for capturing packets. Default = 
              <span class="ph filepath">/dev/hfi1_diagpkt0</span> 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-f 
              <var class="keyword varname">filterfile</var></samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">File used for filtering. If absent, no filtering is done. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-t 
              <var class="keyword varname">triggerfile</var></samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">File used for triggering a stop capture. If absent, normal
              triggering is performed. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-l 
              <var class="keyword varname">triggerlag</var></samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p"> Number of packets to collect after trigger condition is met,
              before dumping data and exiting. Default = 10. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph"> -a 
              <var class="keyword varname">alarm</var></samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Number of seconds for alarm trigger to dump capture and exit. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph"> -p 
              <var class="keyword varname">packets</var></samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Number of packets for alarm trigger to dump capture and exit. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-s 
              <var class="keyword varname">maxblocks</var></samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Number of blocks to allocate for ring buffer. Value is in
              Millions. Default = 2 which corresponds to 128 MiB because 1 block = 64 Bytes. 
            </p>
 
          </dd>
 
         
         
          <dt class="dt pt dlterm"><samp class="ph codeph">-v</samp> 
          </dt>
 
          <dd class="dd pd"> 
            <p class="p">Produces verbose output. 
            </p>
 
          </dd>
 
         
        </dl>
 
    </div>
 
    <div class="section" id="GUID-E89E6CB2-FD46-445F-88AD-FE4B309BE62B__GUID-B9505042-B630-4E4B-82C6-A72974A59EB6"><a name="GUID-E89E6CB2-FD46-445F-88AD-FE4B309BE62B__GUID-B9505042-B630-4E4B-82C6-A72974A59EB6"><!-- --></a><h2 class="sectiontitle">Examples </h2>
       
      <pre class="pre codeblock">TBD</pre>
 
    </div>
 
  </div>
 
<div xmlns:xs="http://www.w3.org/2001/XMLSchema" id="custom-footer"><hr><p class="copyright-notice">*Other names and brands may be claimed as the property of others.</p><p class="copyright-notice">Revised: January 2016</p><p class="copyright-notice">Copyright Â© 2016 Intel Corporation. All rights reserved.</p></div>
</body>
</html>